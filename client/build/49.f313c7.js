(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{198:function(e,a,t){},199:function(e,a,t){},226:function(e,a,t){"use strict";t.r(a);function V(e){var a=e.advertOptions,t=e.checkIsImageLoaded,n=e.chooseOption,r=e.colorDescription,l=e.colorTitle,s=e.description,m=e.handleAddAdvertise,i=e.handleAddImage,o=e.handleAddOwnImage,d=e.handleChangeColorDescription,c=e.handleChangeColorTitle,u=e.handleChooseAdvertiseOption,p=e.handleChooseOptions,g=e.handleDescription,f=e.handleTitleImage,_=e.handleValidateMsg,v=e.image,h=e.imageOwn,b=e.inputFileRef,E=e.isAddAdvert,O=e.partClass,w=e.setCheckIsImageLoaded,N=e.setImageOwn,C=e.setImageUrl,I=e.setIsAddAdvert,A=e.setpartClass,j=e.showHideImgDiv,S=e.title,e=e.validationMsg,h=Boolean(h)&&K.a.createElement(k.a,{handleValidateMsg:_,setIsAddAdvert:I,setCheckIsImageLoaded:w,setFileImg:N,setImageUrl:C,setpartClass:A,uploadFile:h}),e=e&&E?K.a.createElement(Z.a,{partClass:O,msg:e}):null;return K.a.createElement("div",{className:"management-slider__management-slider-form management-slider-form__wrapper"},K.a.createElement("div",{className:"management-slider-form__options-slider"},K.a.createElement("form",{className:"management-slider-form__form",onSubmit:p},K.a.createElement("div",{className:"management-slider-form__wrap-input-label"},K.a.createElement("label",{className:"management-slider-form__label",htmlFor:"lastProducts"},K.a.createElement("input",{checked:"Latest Products"===n,className:"management-slider-form__input",id:"lastProducts",name:"advertise",onChange:u,type:"radio",value:"Latest Products"}),"3 the latest products")),K.a.createElement("div",{className:"management-slider-form__wrap-input-label"},K.a.createElement("label",{className:"management-slider-form__label",htmlFor:"topProducts"},K.a.createElement("input",{checked:"Top Rated Products"===n,className:"management-slider-form__input",id:"topProducts",name:"advertise",onChange:u,type:"radio",value:"Top Rated Products"}),"3 top rated products")),K.a.createElement("div",{className:"management-slider-form__wrap-input-label"},K.a.createElement("label",{className:"management-slider-form__label",htmlFor:"addAdvert"},K.a.createElement("input",{checked:"Added own adverts"===n,className:"management-slider-form__input",id:"addAdvert",name:"advertise",onChange:u,type:"radio",value:"Added own adverts"}),"Turn on own adverts")),K.a.createElement("button",{className:"management-slider-form__choose-option-btn",disabled:n===a},"Submit"))),K.a.createElement("div",{className:"Added own adverts"===n?"management-slider-form__add-advertise":"management-slider-form__add-advertise--inactive"},K.a.createElement("h2",{className:"management-slider-form__title"},"Add own advertise to slider:"),e,h,K.a.createElement("form",{className:"management-slider-form__form-add-advertise",onSubmit:m},K.a.createElement("div",{className:"management-slider-form__wrap-details-with-color"},K.a.createElement("div",{className:"management-slider-form__wrap-details-title"},K.a.createElement("input",{className:"management-slider-form__add-input",name:"title",onChange:f,placeholder:"Title",type:"text",required:!0,value:S,maxLength:"120"}),K.a.createElement("label",{className:"management-slider-form__add-label"},"Title"),K.a.createElement("span",{className:"management-slider-form__border"})),K.a.createElement("div",{className:"management-slider-form__wrap-details-color-picker"},K.a.createElement("label",{className:"management-slider-form__color-label",htmlFor:"favcolor"},"Color title:"),K.a.createElement("input",{className:"management-slider-form__color-input",id:"favcolor",name:"colorTitle",onChange:c,type:"color",value:l}))),K.a.createElement("div",{className:"management-slider-form__wrap-details-with-color"},K.a.createElement("div",{className:"management-slider-form__wrap-details-description"},K.a.createElement("textarea",{className:"management-slider-form__add-input management-slider-form__add-input--textarea",name:"description",onChange:g,placeholder:"Description",type:"text",required:!0,value:s}),K.a.createElement("label",{className:"management-slider-form__add-label"},"Description"),K.a.createElement("span",{className:"management-slider-form__border"})),K.a.createElement("div",{className:"management-slider-form__wrap-details-color-picker"},K.a.createElement("label",{className:"management-slider-form__color-label management-slider-form__color-label--description",htmlFor:"colorDesc"},"Color description:"),K.a.createElement("input",{className:"management-slider-form__color-input",id:"colorDesc",name:"colorDescription",onChange:d,type:"color",value:r}))),K.a.createElement("div",{className:j?"management-slider-form__wrap-details--inactive":"management-slider-form__wrap-details"},K.a.createElement("input",{className:"management-slider-form__add-input management-slider-form__add-input--active",name:"image",onChange:i,placeholder:"Image url",type:"text",required:!0!==j,value:v}),K.a.createElement("label",{className:"management-slider-form__add-label"},"Image url"),K.a.createElement("span",{className:"management-slider-form__border"})),K.a.createElement("div",{className:Boolean(v)?"management-slider-form__wrap-details--inactive":"management-slider-form__wrap-details"},K.a.createElement("input",{className:"management-slider-form__add-input management-slider-form__add-input--file",name:"imageOwn",onChange:o,type:"file",required:!0!==Boolean(v),ref:b})),K.a.createElement("button",{className:"management-slider-form__add-adveritse-btn",disabled:t},"Add Advertise"))))}var n=t(5),H=t.n(n),n=t(3),J=t.n(n),n=t(4),Y=t.n(n),n=t(1),z=t.n(n),G=t(0),K=t.n(G),n=t(8),Q=(t(198),t(7)),W=t(116),X=t(9),k=(t(199),t(122)),Z=t(25);a.default=Object(n.j)(function(e){function l(e){e&&(n(e),q.current=B.current&&setTimeout(function(){n(""),S(!1)},1500))}var a=e.history,t=Object(G.useContext)(Q.a),n=t.adjustValidationMsg,r=t.advertOptions,s=t.allAdvertsSlider,m=t.setAllAdvertsSlider,i=t.setAdvertOptions,o=t.setErrorServerMsg,d=t.setIsOwnAdverts,c=t.user,u=t.validationMsg,p=Object(G.useState)(!0),g=z()(p,2),f=g[0],_=g[1],v=Object(G.useState)("Latest Products"),h=z()(v,2),b=h[0],E=h[1],O=Object(G.useState)("#000000"),e=z()(O,2),w=e[0],N=e[1],t=Object(G.useState)("#000000"),p=z()(t,2),C=p[0],I=p[1],g=Object(G.useState)(""),v=z()(g,2),A=v[0],j=v[1],h=Object(G.useState)(!1),O=z()(h,2),e=O[0],S=O[1],t=Object(G.useState)(""),p=z()(t,2),k=p[0],D=p[1],g=Object(G.useState)(null),v=z()(g,2),h=v[0],y=v[1],O=Object(G.useState)(null),t=z()(O,2),T=t[0],x=t[1],p=Object(G.useState)(""),g=z()(p,2),v=g[0],P=g[1],O=Object(G.useState)(!1),t=z()(O,2),p=t[0],F=t[1],g=Object(G.useState)(""),O=z()(g,2),L=O[0],M=O[1],R=Object(G.useRef)(),B=Object(G.useRef)(null),q=Object(G.useRef)(null),U=["image/jpeg","image/png"],t=function(){var a=Y()(J.a.mark(function e(a){var t,n;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t={option:b,userId:c.userId},e.next=4,Object(X.c)(t);case 4:n=e.sent,t=n.data,n=n.status,P(Object.keys(t)[0]),200===n&&B.current?(i(t.option),l(t.success)):o(t);case 9:case"end":return e.stop()}},e)}));return function(e){return a.apply(this,arguments)}}(),g=function(){var a=Y()(J.a.mark(function e(a){var t,n,r;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t={option:b,userId:c.userId},e.next=5,Object(X.c)(t);case 5:t=e.sent,r=t.data,200===t.status&&B.current&&i(r.option);case 9:return n={title:L,description:A,imagePath:k||T,colorDescription:w,colorTitle:C},e.next=12,Object(X.a)(n);case 12:r=e.sent,n=r.data,r=r.status,P(Object.keys(n)[0]),200===r&&B.current&&(S(!0),x(null),l(n.success),m([].concat(H()(s),[n.advert])),d(!0),_(!0),j(""),M(""),D(""),y(null),F(!1),R.current.value=""),200!==r&&B.current&&o(n);case 18:case"end":return e.stop()}},e)}));return function(e){return a.apply(this,arguments)}}();Object(G.useEffect)(function(){return B.current=!0,function(){B.current=!1}},[]),Object(G.useEffect)(function(){return function(){return clearTimeout(q.current)}},[]),Object(G.useEffect)(function(){return a.listen(function(){"/admin/management-shop"!==a.location.pathname&&Boolean(T)&&Boolean(T)&&-1!==T.indexOf("firebasestorage")&&W.a.refFromURL(T).delete().then(function(e){return e}).catch(function(e){console.warn(e)})})},[T]);O=u&&!e?K.a.createElement(Z.a,{partClass:v,msg:u}):null;return K.a.createElement("section",null,K.a.createElement("div",{className:"admin-content__management-slider management-slider"},K.a.createElement("h2",{className:"management-slider__title"},"Choose options to add advertise to slider:"),K.a.createElement("p",{className:"management-slider__option"},"Your current adverts option: ",r),O,K.a.createElement(V,{advertOptions:r,checkIsImageLoaded:f,chooseOption:b,colorDescription:w,colorTitle:C,description:A,handleAddAdvertise:g,handleAddImage:function(e){e=e.target.value;D(e),_(!1)},handleAddOwnImage:function(e){var a=(new Date).getTime().toString(),e=e.target.files[0];e&&(Object.defineProperty(e,"name",{value:e.name,writable:!0}),e.name="".concat(e.name,"-").concat(a)),e&&U.includes(e.type)?(y(e),F(!0)):(y(null),F(!1),P("alert"),l("Please choose image valid format, like jpeg or png"))},handleChangeColorDescription:function(e){e=e.target.value;N(e)},handleChangeColorTitle:function(e){e=e.target.value;I(e)},handleChooseAdvertiseOption:function(e){e=e.target.value;E(e)},handleChooseOptions:t,handleDescription:function(e){e=e.target.value;j(e)},handleTitleImage:function(e){e=e.target.value;M(e)},handleValidateMsg:l,image:k,imageOwn:h,inputFileRef:R,isAddAdvert:e,partClass:v,setCheckIsImageLoaded:_,setImageOwn:y,setImageUrl:x,setIsAddAdvert:S,setpartClass:P,showHideImgDiv:p,title:L,validationMsg:u})))})}}]);