(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);function w(e){var t=e.choosePayment,a=e.handleContinue,e=e.handleChangeRadioButtons;return G.a.createElement("form",{className:"payment__payment-options payment-options",onSubmit:a},G.a.createElement("p",{className:"payment-options__title"},"Please choose your method:"),G.a.createElement("div",{className:"payment-options__wrapper-details"},G.a.createElement("label",{htmlFor:"paypal",className:"payment-options__label"},G.a.createElement("input",{type:"radio",name:"paymethod",id:"paypal",className:"payment-options__input",value:"paypal",onChange:e,checked:"paypal"===t}),G.a.createElement("img",{className:"payment-options__img",src:"https://firebasestorage.googleapis.com/v0/b/products-courses.appspot.com/o/no-remove-paypal200.jpg?alt=media&token=8445e2fd-0067-45f2-96ee-141cd3f9d7c4",alt:"paypal"}))),G.a.createElement("button",{className:"payment-options__button"},"Continue"))}function S(e){var t=e.city,a=e.country,n=e.departmentState,s=e.name,r=e.numberStreet,c=e.phone,i=e.postCode,p=e.surname,e=e.street;return G.a.createElement("div",{className:"payment__shipping-data shipping-data"},G.a.createElement("h4",{className:"shipping-data__title"},"Your shipping details:"),G.a.createElement("ul",{className:"shipping-data__list-details"},G.a.createElement("li",{className:"shipping-data__item"},G.a.createElement("span",{className:"shipping-data__item-span"},"Name: "),s),G.a.createElement("li",{className:"shipping-data__item"},G.a.createElement("span",{className:"shipping-data__item-span"},"Surname: "),p),G.a.createElement("li",{className:"shipping-data__item"},G.a.createElement("span",{className:"shipping-data__item-span"},"Address: "),e),G.a.createElement("li",{className:"shipping-data__item"},G.a.createElement("span",{className:"shipping-data__item-span"},"Street number: "),r),G.a.createElement("li",{className:"shipping-data__item"},G.a.createElement("span",{className:"shipping-data__item-span"},"State: "),n),G.a.createElement("li",{className:"shipping-data__item"},G.a.createElement("span",{className:"shipping-data__item-span"},"Post code: "),i),G.a.createElement("li",{className:"shipping-data__item"},G.a.createElement("span",{className:"shipping-data__item-span"},"City: "),t),G.a.createElement("li",{className:"shipping-data__item"},G.a.createElement("span",{className:"shipping-data__item-span"},"Country: "),a),G.a.createElement("li",{className:"shipping-data__item"},G.a.createElement("span",{className:"shipping-data__item-span"},"Phone: "),c)))}var n=a(24),D=a.n(n),n=a(3),x=a.n(n),n=a(4),I=a.n(n),n=a(5),M=a.n(n),n=a(18),s=a.n(n),n=a(1),B=a.n(n),A=a(0),G=a.n(A),R=a(8),J=a(7),L=a(16),Q=a(9),F=(a(161),a(162),a(163),a(134)),V=a(133);function r(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function Y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach(function(e){s()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}t.default=function(e){var t=e.location,a=Object(A.useContext)(J.a),r=a.adjustValidationMsg,n=a.checkCanGoPlaceOrder,c=a.customerDetails,s=a.setActiveLinePayment,i=a.setActiveLineStepCheckout,p=a.setCheckCanGoPlaceOrder,o=a.setCheckIsPaymentCheckout,l=a.setCheckIsPlaceOrderCheckout,m=a.setCheckIsShippingCheckout,u=a.setCheckerPayment,d=a.setCheckerPlaceOrder,h=a.setCustomerDetails,_=a.setDrawIcon,y=a.setNameCheckers,f=a.setErrorServerMsg,g=a.user,E=a.validationMsg,e=Object(A.useContext)(L.a),b=e.cart,N=e.totalPriceCart,O=e.totalQtyCart,a=Object(A.useState)("paypal"),e=B()(a,2),C=e[0],v=e[1],P=Object(A.useRef)(!1),j=Object(R.g)(),a=function(){var t=I()(x.a.mark(function e(t){var a,n,s;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=function(e){var t=[];return e.forEach(function(e){e=Y({},e);t=[].concat(M()(t),[e])}),t}(c),s=n.map(function(e){return Y(Y({},e),{},{cart:b,paymentMethod:C,shippingPrice:2,totalPriceCart:N,totalPriceOrder:N+2,totalQtyCart:O})}),a=s.shift(),e.next=6,Object(Q.y)(a);case 6:n=e.sent,s=n.data,200===n.status&&P.current?(h([a]),p(!0),o(!0),i("linePayment"),j.push("/place-order")):(r(s.alert),f(s));case 10:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),k=function(){var e=I()(x.a.mark(function e(){var t,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.k)(g.userId);case 2:t=e.sent,a=t.data,200===t.status&&P.current?h([a]):(r(a.alert),f(a));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(A.useEffect)(function(){Boolean(g)&&k()},[g]),Object(A.useEffect)(function(){return P.current=!0,function(){return P.current=!1}},[]);e=Boolean(g)?c.map(function(e){return G.a.createElement(S,D()({key:e.userId},e))}):null;return G.a.createElement("section",null,G.a.createElement(V.a,{checkCanGoPlaceOrder:n,endpoint:t.pathname}),G.a.createElement("div",{className:"payment"},G.a.createElement("h1",{className:"payment__title"},"Payment method"),G.a.createElement(F.a,{validationMsg:E}),G.a.createElement("div",{className:"payment__method"},G.a.createElement(w,{choosePayment:C,handleContinue:a,handleChangeRadioButtons:function(e){e=e.target.value;v(e),r(""),s(!1),i(""),o(!1),m(!1),u(!1),l(!1),y(""),_(!1),d(!1)}}),e)))}}}]);