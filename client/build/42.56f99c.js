(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{120:function(e,t,r){"use strict";var a=r(0),n=r.n(a),a=r(121);t.a=function(e){var t=e.handleCloseModalBtnYes,r=e.handleCloseModalBtnNo,a=e.modalPopUpRef,e=e.title;return n.a.createElement("div",{className:"modal-popup",ref:a},n.a.createElement("h3",{className:"modal-popup__title"},e),n.a.createElement("div",{className:"modal-popup__wrap-btns"},n.a.createElement("button",{className:"modal-popup__btn",onClick:t},"Yes"),n.a.createElement("button",{className:"modal-popup__btn",onClick:r},"No")))}},121:function(e,t,r){},192:function(e,t,r){},193:function(e,t,r){},218:function(e,t,r){"use strict";r.r(t);var a=r(3),U=r.n(a),a=r(4),D=r.n(a),a=r(5),T=r.n(a),a=r(18),n=r.n(a),a=r(1),H=r.n(a),G=r(0),A=r.n(G),I=r(117),Y=r(7),F=r(9),J=r(13),q=(r(192),r(118)),L=r(119),a=r(24),u=r.n(a),i=r(115),d=(r(193),r(10));function s(t,e){var r,a=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)),a}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach(function(e){n()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function V(e){var t=e.getTableProps,r=e.getTableBodyProps,s=e.headerGroups,o=e.page,a=e.prepareRow,n=Object(G.useContext)(d.a).checkWindowMedium,c=Object(G.useState)([]),c=(e=H()(c,2))[0],l=e[1];return Object(G.useEffect)(function(){for(var e=[],t=0;t<o.length;t++)for(var r=0;r<s[0].headers.length;r++)e=[].concat(T()(e),[s[0].headers[r]]);var a=e.map(function(e){return p(p({},e),{},{id:Object(i.a)()})}),n=s.map(function(e){return p(p({},e),{},{headers:a})});l(n)},[o]),A.a.createElement("table",u()({className:"table-users"},t()),A.a.createElement("thead",{className:"table-users__head"},n?s.map(function(e){return A.a.createElement("tr",u()({className:"table-users__head-tr"},e.getHeaderGroupProps()),e.headers.map(function(e){return A.a.createElement("th",u()({className:"table-users__head-th"},e.getHeaderProps(e.getSortByToggleProps())),e.render("Header"),A.a.createElement("span",null,e.isSorted?e.isSortedDesc?"▼":"▲":""))}))}):c.map(function(e){return A.a.createElement("tr",u()({className:"table-users__head-tr"},e.getHeaderGroupProps()),e.headers.map(function(e){return A.a.createElement("th",u()({className:"table-users__head-th"},e.getHeaderProps(e.getSortByToggleProps()),{key:e.getHeaderProps().key=Object(i.a)()}),e.render("Header"),A.a.createElement("span",null,e.isSorted?e.isSortedDesc?"▼":"▲":""))}))})),A.a.createElement("tbody",u()({className:"table-users__body"},r()),o.map(function(e){return a(e),A.a.createElement("tr",u()({className:"table-users__body-tr"},e.getRowProps()),e.cells.map(function(e){return A.a.createElement("td",u()({className:"table-users__body-td table-users__body-td--users"},e.getCellProps()),e.render("Cell"))}))})))}function W(e){var t=e.checkIsRemoveModalOpen,r=e.handleCloseModalRemoveUser,a=e.handleConfirmationYes,n=e.handleConfirmationNo,s=e.isPossibleToCloseModalOnDiv,o=e.isRemoveUserModalOpen,e=e.textMsg,c=Object(G.useRef)();return Object(G.useEffect)(function(){c.current&&l.a.to(c.current,.8,{opacity:1,y:30,ease:m.b.easeOut})},[t]),A.a.createElement(f.a,{handleClose:r,isOpen:o,unavailableToCloseModalClickOnDiv:s},A.a.createElement(b.a,{handleCloseModalBtnYes:function(){r(),a()},handleCloseModalBtnNo:function(){r(),n()},modalPopUpRef:c,title:e}))}var l=r(21),m=r(2),f=r(20),b=r(120),z=r(25);function o(t,e){var r,a=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)),a}function K(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){n()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}t.default=function(){function s(e){if(!e)return t(e);t(e),setTimeout(function(){t("")},1500)}var e=Object(G.useContext)(Y.a),o=e.allBoughtCoursesByUser,t=e.adjustValidationMsg,c=e.allPaidOrdersByUser,l=e.allUsers,u=e.setAllUsers,i=e.setAllBoughtCoursesByUser,d=e.setAllPaidOrdersByUser,p=e.setErrorServerMsg,r=e.validationMsg,a=Object(G.useState)(!1),n=H()(a,2),m=n[0],f=n[1],b=Object(G.useState)(""),O=H()(b,2),g=O[0],h=O[1],y=Object(G.useState)(!1),P=H()(y,1)[0],j=Object(G.useState)(!1),v=H()(j,2),E=v[0],_=v[1],w=Object(G.useState)(""),C=H()(w,2),N=C[0],M=C[1],S=Object(G.useRef)(),k=Object(G.useMemo)(function(){return[{Header:"Username",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Role",accessor:"role"},{Header:"Delete",disableSortBy:!0,id:"delete",accessor:function(e){return"delete"},Cell:function(e){return A.a.createElement("button",{className:"list-users__btn-remove",onClick:function(){M(e.row.original._id),_(!0),f(function(e){return!e})},disabled:"Admin"===e.row.original.role},e.row.original.role===J.a.Admin?A.a.createElement("i",{className:"far fa-minus-square"}):A.a.createElement("i",{className:"fas fa-times"}))}}]},[l]),B=Object(G.useMemo)(function(){return l},[l]),x=Object(I.useTable)({columns:k,data:B},I.useGlobalFilter,I.useSortBy,I.usePagination),e=x.getTableProps,a=x.getTableBodyProps,n=x.headerGroups,b=x.page,O=x.nextPage,y=x.previousPage,j=x.canNextPage,v=x.canPreviousPage,w=x.pageOptions,C=x.prepareRow,k=x.state,B=x.setGlobalFilter,x=k.globalFilter,k=k.pageIndex,R=function(){var e=D()(U.a.mark(function e(){var t,r,a,n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.w)(N);case 2:if(r=e.sent,t=r.data,r=r.status,h(Object.keys(t)[0]),200===r&&S.current)return n=T()(l),a=n.filter(function(e){return e._id!==N}),u(a),s(t.success),e.next=13,Object(F.h)(N);e.next=22;break;case 13:return e.next=15,Object(F.u)(N);case 15:n=function(){var t=[],r=[];return c.forEach(function(e){e=K({},e);t=[].concat(T()(t),[e])}),o.forEach(function(e){e=K({},e);r=[].concat(T()(r),[e])}),{copyPaidOrders:t,copyUserCourses:r}}(),a=n.copyPaidOrders,n=n.copyUserCourses,a=a.filter(function(e){return e.userId!==N}),d(a),n=n.filter(function(e){return e.userId!==N}),i(n),e.next=24;break;case 22:s(t.alert),p(t);case 24:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(G.useEffect)(function(){return S.current=!0,function(){S.current=!1}},[]);E=E?A.a.createElement(W,{checkIsRemoveModalOpen:m,handleCloseModalRemoveUser:function(){_(!1),M("")},isPossibleToCloseModalOnDiv:P,isRemoveUserModalOpen:E,handleConfirmationYes:function(){R()},handleConfirmationNo:function(){M("")},textMsg:"Are you sure you want remove this user?"}):null,r=r?A.a.createElement(z.a,{partClass:g,msg:r}):null;return A.a.createElement("section",null,A.a.createElement("div",{className:"admin-content__list-users list-users"},A.a.createElement("h2",{className:"list-users__title"},"List users"),r,A.a.createElement("div",{className:"list-users__tabel"},A.a.createElement(L.a,{data:l,filter:x,setFilter:B}),A.a.createElement(V,{getTableProps:e,getTableBodyProps:a,headerGroups:n,page:b,prepareRow:C}),A.a.createElement(q.a,{canNextPage:j,canPreviousPage:v,nextPage:O,pageIndex:k,pageOptions:w,previousPage:y})),E))}}}]);