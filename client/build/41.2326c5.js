(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{120:function(e,t,a){"use strict";var r=a(0),n=a.n(r),r=a(121);t.a=function(e){var t=e.handleCloseModalBtnYes,a=e.handleCloseModalBtnNo,r=e.modalPopUpRef,e=e.title;return n.a.createElement("div",{className:"modal-popup",ref:r},n.a.createElement("h3",{className:"modal-popup__title"},e),n.a.createElement("div",{className:"modal-popup__wrap-btns"},n.a.createElement("button",{className:"modal-popup__btn",onClick:t},"Yes"),n.a.createElement("button",{className:"modal-popup__btn",onClick:a},"No")))}},121:function(e,t,a){},131:function(e,t,a){"use strict";var l=a(0),u=a.n(l),i=a(21),d=a(2),p=a(20),m=a(120);t.a=function(e){var t=e.checkIsRemoveModalOpen,a=e.handleCloseModalRemoveCourse,r=e.handleConfirmationYes,n=e.handleConfirmationNo,o=e.isPossibleToCloseModalOnDiv,s=e.isRemoveCourseModalOpen,e=e.textMsg,c=Object(l.useRef)();return Object(l.useEffect)(function(){c.current&&i.a.to(c.current,.8,{opacity:1,y:30,ease:d.b.easeOut})},[t]),u.a.createElement(p.a,{handleClose:a,isOpen:s,unavailableToCloseModalClickOnDiv:o},u.a.createElement(m.a,{handleCloseModalBtnYes:function(){a(),r()},handleCloseModalBtnNo:function(){a(),n()},modalPopUpRef:c,title:e}))}},132:function(e,t,a){"use strict";var r=a(1),o=a.n(r),s=a(0),c=a(116);t.a=function(e){var t=Object(s.useState)(!1),a=o()(t,2),t=a[0],r=a[1],a=Object(s.useState)(""),a=o()(a,2),n=(a[0],a[1]);return Object(s.useEffect)(function(){Boolean(e)&&-1!==e.indexOf("firebasestorage")&&c.a.refFromURL(e).delete().then(function(){n("Image removed succesfully")}).catch(function(e){n(e)})},[t]),{deleteImageInFirebase:function(){r(function(e){return!e})}}}},200:function(e,t,a){},201:function(e,t,a){},227:function(e,t,a){"use strict";a.r(t);var r=a(3),T=a.n(r),r=a(5),x=a.n(r),r=a(4),B=a.n(r),r=a(1),D=a.n(r),H=a(0),I=a.n(H),F=a(117),G=a(7),Y=a(9),A=(a(200),a(118)),U=a(119),r=a(24),u=a.n(r),r=a(18),n=a.n(r),i=a(115),d=(a(201),a(10));function o(t,e){var a,r=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)),r}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach(function(e){n()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function J(e){var t=e.getTableProps,a=e.getTableBodyProps,o=e.headerGroups,s=e.page,r=e.prepareRow,n=Object(H.useContext)(d.a).checkWindowMedium,c=Object(H.useState)([]),c=(e=D()(c,2))[0],l=e[1];return Object(H.useEffect)(function(){for(var e=[],t=0;t<s.length;t++)for(var a=0;a<o[0].headers.length;a++)e=[].concat(x()(e),[o[0].headers[a]]);var r=e.map(function(e){return p(p({},e),{},{id:Object(i.a)()})}),n=o.map(function(e){return p(p({},e),{},{headers:r})});l(n)},[s]),I.a.createElement("table",u()({className:"table-adverts"},t()),I.a.createElement("thead",{className:"table-adverts__head"},n?o.map(function(e){return I.a.createElement("tr",u()({className:"table-adverts__head-tr"},e.getHeaderGroupProps()),e.headers.map(function(e){return I.a.createElement("th",u()({className:"table-adverts__head-th"},e.getHeaderProps(e.getSortByToggleProps())),e.render("Header"),I.a.createElement("span",null,e.isSorted?e.isSortedDesc?"▼":"▲":""))}))}):c.map(function(e){return I.a.createElement("tr",u()({className:"table-adverts__head-tr"},e.getHeaderGroupProps()),e.headers.map(function(e){return I.a.createElement("th",u()({className:"table-adverts__head-th"},e.getHeaderProps(e.getSortByToggleProps()),{key:e.getHeaderProps().key=Object(i.a)()}),e.render("Header"),I.a.createElement("span",null,e.isSorted?e.isSortedDesc?"▼":"▲":""))}))})),I.a.createElement("tbody",u()({className:"table-adverts__body"},a()),s.map(function(e){return r(e),I.a.createElement("tr",u()({className:"table-adverts__body-tr"},e.getRowProps()),e.cells.map(function(e){return I.a.createElement("td",u()({className:"table-adverts__body-td table-adverts__body-td--adverts"},e.getCellProps()),e.render("Cell"))}))})))}var L=a(131),V=a(25),W=a(132);t.default=function(){function r(e){if(!e)return t(e);t(e),setTimeout(function(){t("")},1500)}var e=Object(H.useContext)(G.a),t=e.adjustValidationMsg,n=e.allAdvertsSlider,o=e.setAllAdvertsSlider,s=e.setErrorServerMsg,a=e.validationMsg,c=Object(H.useState)(""),l=D()(c,2),u=l[0],i=l[1],d=Object(H.useState)(!1),p=D()(d,1)[0],m=Object(H.useState)(!1),f=D()(m,2),b=f[0],v=f[1],g=Object(H.useState)(""),O=D()(g,2),h=O[0],P=O[1],j=Object(H.useState)(""),E=D()(j,2),_=E[0],y=E[1],C=Object(H.useRef)(null),N=Object(W.a)(_).deleteImageInFirebase,w=Object(H.useState)(!1),S=D()(w,2),M=S[0],R=S[1],e=Object(H.useMemo)(function(){return[{Header:"Title",accessor:"title"},{Header:"Description",accessor:"description"},{Header:"Delete",disableSortBy:!0,id:"delete",accessor:function(e){return"delete"},Cell:function(e){return I.a.createElement("button",{className:"list-adverts__btn-remove",onClick:function(){R(function(e){return!e}),y(e.row.original.imagePath),P(e.row.original._id),v(!0)}},I.a.createElement("i",{className:"fas fa-times"}))}}]},[n]),c=Object(H.useMemo)(function(){return n},[n]),l=Object(F.useTable)({columns:e,data:c},F.useGlobalFilter,F.useSortBy,F.usePagination),d=l.getTableProps,m=l.getTableBodyProps,f=l.headerGroups,g=l.page,O=l.nextPage,j=l.previousPage,E=l.canNextPage,_=l.canPreviousPage,w=l.pageOptions,S=l.prepareRow,e=l.state,c=l.setGlobalFilter,l=e.globalFilter,e=e.pageIndex,k=function(){var e=B()(T.a.mark(function e(){var t,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.s)(h);case 2:a=e.sent,t=a.data,a=a.status,i(Object.keys(t)[0]),200===a&&C.current?(a=x()(n),a=a.filter(function(e){return e._id!==h}),o(a),r(t.success),P(""),N()):(P(""),s(t),r(t.alert));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(H.useEffect)(function(){return C.current=!0,function(){C.current=!1}},[]);b=b?I.a.createElement(L.a,{checkIsRemoveModalOpen:M,handleConfirmationYes:function(){k()},handleConfirmationNo:function(){P("")},handleCloseModalRemoveCourse:function(){v(!1),P("")},isPossibleToCloseModalOnDiv:p,isRemoveCourseModalOpen:b,textMsg:"Are you sure you want remove this advert?"}):null,a=a?I.a.createElement(V.a,{partClass:u,msg:a}):null;return I.a.createElement("section",null,I.a.createElement("div",{className:"admin-content__list-adverts list-adverts"},I.a.createElement("h2",{className:"list-adverts__title"},"Remove advert"),a,I.a.createElement("div",{className:"list-adverts__tabel"},I.a.createElement(U.a,{data:n,filter:l,setFilter:c}),I.a.createElement(J,{getTableProps:d,getTableBodyProps:m,headerGroups:f,page:g,prepareRow:S}),I.a.createElement(A.a,{canNextPage:E,canPreviousPage:_,nextPage:O,pageIndex:e,pageOptions:w,previousPage:j})),b))}}}]);